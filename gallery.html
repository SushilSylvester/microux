<!DOCTYPE html>
<html>
<head>
  <title>Image Gallery</title>
  <script src="https://unpkg.com/cloudinary-core@2.9.0/cloudinary-core-shrinkwrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://widget.cloudinary.com/v2.0/global/all.js" type="text/javascript"></script>

  <style>
    .image-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 10px;
    }

    .image-grid img {
      width: 100%;
      height: auto;
    }
  </style>
</head>
<body>
  <div class="image-grid" id="image-grid"></div>
  <button id="open-widget-button">Open Widget</button>

  <script>
    const imageGrid = document.getElementById('image-grid');
    
    // Initialize Cloudinary widget
    const widget = cloudinary.createUploadWidget(
      {
        cloudName: 'duldfki6j', // Replace with your Cloudinary cloud name
        uploadPreset: 'ner-preset', // Replace with your upload preset name
      },
      (error, result) => {
        if (!error && result && result.event === 'success') {
          // Image uploaded successfully
          const imageUrl = result.info.secure_url;

          // Create an <img> element for the uploaded image
          const img = document.createElement('img');
          img.src = imageUrl;

          // Append the image to the grid container
          imageGrid.appendChild(img);
        }
      }
    );

    // Open the widget when a button is clicked
    const openWidgetButton = document.getElementById('open-widget-button');
    openWidgetButton.addEventListener('click', () => {
      widget.open();
    });
  </script>
</body>
</html>
