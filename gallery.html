<!DOCTYPE html>
<html>
<head>
  <title>Image Gallery</title>
  <script src="https://unpkg.com/cloudinary-core@2.9.0/cloudinary-core-shrinkwrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://widget.cloudinary.com/v2.0/global/all.js" type="text/javascript"></script>

  <style>
    .image-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 10px;
    }

    .image-grid img {
      width: 100%;
      height: auto;
    }
  </style>
</head>
<body>
  <div class="image-grid" id="image-grid"></div>
  
  <script>
    // Configure Cloudinary
    const cloudName = 'duldfki6j'; // Replace with your Cloudinary cloud name

    // Function to initialize the Cloudinary Media Library widget
    function initMediaLibrary() {
      const mediaLibrary = cloudinary.createMediaLibrary({
        cloud_name: cloudName,
        api_key: '474577221937364', // Replace with your Cloudinary API key
        insertHandler: function (data) {
          const imageGrid = document.getElementById('image-grid');

          // Iterate through each selected asset
          data.assets.forEach(asset => {
            // Generate the URL for the image
            const imageUrl = asset.url;

            // Create an <img> element for each image
            const img = document.createElement('img');
            img.src = imageUrl;

            // Append the image to the grid container
            imageGrid.appendChild(img);
          });
        }
      });

      // Open the Media Library widget
      mediaLibrary.show({ multiple: true });
    }

    // Call the function to open the Media Library widget when the page loads
    window.addEventListener('DOMContentLoaded', initMediaLibrary);
  </script>
</body>
</html>
